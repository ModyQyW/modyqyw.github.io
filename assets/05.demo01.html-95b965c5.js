import{_ as e,M as p,p as o,q as c,R as n,t as s,N as l,a1 as i}from"./framework-7db056f4.js";const r={},t=n("h1",{id:"demo01-ä¸€ä¸ªç®€å•çš„-demo",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#demo01-ä¸€ä¸ªç®€å•çš„-demo","aria-hidden":"true"},"#"),s(" demo01 - ä¸€ä¸ªç®€å•çš„ demo")],-1),d=n("p",null,[s("å‰é¢ç®€å•åœ°è®²è¿°äº† "),n("code",null,"webpack"),s(" çš„å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œä¸‹é¢å¼€å§‹å®æˆ˜æ¥å¼ºåŒ–è¿™äº›æ¦‚å¿µã€‚")],-1),D=n("p",null,"è¿™é‡Œå†å¼ºè°ƒä¸€æ¬¡ï¼Œç¬”è®°å’Œç¤ºä¾‹æ˜¯ç”¨ macOS åšç¤ºä¾‹çš„ï¼Œè¯·ä¸è¦æ— è„‘è·Ÿåšã€‚",-1),y={href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer"},v=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh </span><span style="color:#FF7B72;">|</span><span style="color:#C9D1D9;"> bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ å·²ç»å®‰è£…äº† nodeï¼Œä½ ä¹Ÿå¯ä»¥è€ƒè™‘å®Œå…¨å¸è½½ node ä¹‹åå®‰è£… nvmã€‚å¦‚æœä¸éœ€è¦é¢‘ç¹æ›´æ¢ node ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥å®‰è£… nodeã€‚</p><p>å®‰è£… nvm ä¹‹åï¼Œä½¿ç”¨ nvm æ¥å®‰è£… node v14ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">nvm install 14</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ–°å»ºä¸€ä¸ª <code>demo</code> æ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œç”¨ <code>npm</code> åˆå§‹åŒ–ï¼Œè¿™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ <code>package.json</code> æ–‡ä»¶ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">mkdir demo </span><span style="color:#8B949E;"># æ–°å»ºä¸€ä¸ª demo æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#79C0FF;">cd</span><span style="color:#C9D1D9;"> demo </span><span style="color:#8B949E;"># è¿›å…¥è¯¥æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#C9D1D9;">npm init -y </span><span style="color:#8B949E;"># npm åˆå§‹åŒ–</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>.npmrc</code> æ–‡ä»¶ç”¨æ¥é…ç½® <code>npm</code>ï¼Œè¿™é‡Œæˆ‘ä»¬æŒ‡å®šä¾èµ–æºæ˜¯å›½å†…çš„æ·˜å®æºï¼Œè¿™æ ·å®‰è£…ä¾èµ–çš„é€Ÿåº¦ä¼šæ›´å¿«ä¸€ç‚¹ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">registry=https://registry.npmmirror.com/</span></span>
<span class="line"><span style="color:#C9D1D9;">chromedriver_cdnurl=https://npmmirror.com/mirrors/chromedriver/</span></span>
<span class="line"><span style="color:#C9D1D9;">electron_builder_binaries_mirror=https://npmmirror.com/mirrors/electron-builder-binaries/</span></span>
<span class="line"><span style="color:#C9D1D9;">electron_mirror=https://npmmirror.com/mirrors/electron/</span></span>
<span class="line"><span style="color:#C9D1D9;">fsevents_binary_host_mirror=http://npmmirror.com/mirrors/fsevents/</span></span>
<span class="line"><span style="color:#C9D1D9;">node_inspector_cdnurl=https://npmmirror.com/mirrors/node-inspector/</span></span>
<span class="line"><span style="color:#C9D1D9;">phantomjs_cdnurl=https://npmmirror.com/mirrors/phantomjs/</span></span>
<span class="line"><span style="color:#C9D1D9;">sass_binary_site=https://npmmirror.com/mirrors/node-sass/</span></span>
<span class="line"><span style="color:#C9D1D9;">selenium_cdnurl=https://npmmirror.com/mirrors/selenium/</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå®‰è£…ç›¸å…³ä¾èµ–ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">npm i clean-webpack-plugin@~3.0.0 -D</span></span>
<span class="line"><span style="color:#C9D1D9;">npm i copy-webpack-plugin@~6.4.1 -D</span></span>
<span class="line"><span style="color:#C9D1D9;">npm i friendly-errors-webpack-plugin@~1.7.0 -D</span></span>
<span class="line"><span style="color:#C9D1D9;">npm i html-webpack-plugin@~4.5.2 -D</span></span>
<span class="line"><span style="color:#C9D1D9;">npm i webpack@~4.46.0 -D</span></span>
<span class="line"><span style="color:#C9D1D9;">npm i webpack-cli@~4.7.2 -D</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºä¸€ä¸ªå†…å®¹ç®€å•çš„ <code>\${PROJECT_DIR}/src/index.js</code>ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">document.</span><span style="color:#D2A8FF;">write</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;Hello webpack!&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ›å»ºä¸€ä¸ª <code>webpack</code> é…ç½®æ–‡ä»¶ <code>\${PROJECT_DIR}/webpack.config.js</code>ã€‚ä¸ç‰¹æ„æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œ<code>webpack</code> ä¼šé»˜è®¤ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;">// ä½¿ç”¨ path æ¨¡å—æ¥æŒ‡å®šè·¯å¾„</span></span>
<span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">path</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;path&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79C0FF;">module</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">exports</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š mode</span></span>
<span class="line"><span style="color:#C9D1D9;">  mode: </span><span style="color:#A5D6FF;">&#39;production&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š entry</span></span>
<span class="line"><span style="color:#C9D1D9;">  entry: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;src&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;index.js&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š output</span></span>
<span class="line"><span style="color:#C9D1D9;">  output: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    path: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;dist&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">    filename: </span><span style="color:#A5D6FF;">&#39;bundle.js&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  },</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å†æ¥ä¿®æ”¹ <code>package.json</code> é‡Œé¢çš„ <code>scripts</code> å­—æ®µã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡ <code>webpack-cli</code> æä¾›çš„å‘½ä»¤è°ƒç”¨ <code>webpack</code> æ„å»ºã€‚</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FFA198;">...,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#7EE787;">&quot;scripts&quot;</span><span style="color:#C9D1D9;">: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#7EE787;">&quot;build&quot;</span><span style="color:#C9D1D9;">: </span><span style="color:#A5D6FF;">&quot;webpack&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">  },</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FFA198;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€ï¼Œå°±æ‰§è¡Œå‘½ä»¤å¼€å§‹æ„å»ºå§ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">npm run build</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ„å»ºç»“æŸåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ <code>dist</code> æ–‡ä»¶å¤¹é‡Œé¢ä¼šå‡ºç°ä¸€ä¸ª <code>bundle.js</code> æ–‡ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª <code>.html</code> æ–‡ä»¶ç„¶åå¼•ç”¨å®ƒï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p><p>å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæ¯æ¬¡æ„å»ºä¹‹åéƒ½è€—è´¹æ—¶é—´å»åšè¿™æ ·çš„é‡å¤å·¥ä½œæ˜¯éš¾ä»¥å¿å—çš„ã€‚æˆ‘ä»¬éœ€è¦ä¸€äº›è‡ªåŠ¨å¤„ç†çš„æ‰‹æ®µï¼Œæ¥å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆ <code>.html</code> æ–‡ä»¶å¹¶å¼•ç”¨è¿™ä¸ª <code>bundle.js</code> æ–‡ä»¶ã€‚</p><p>é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª <code>public</code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾ <code>favicon.ico</code>ï¼ˆå¯ä»¥è‡ªå·±éšä¾¿æ‰¾ä¸€ä¸ªï¼Œæˆ–è€…æŠŠä½ ç°åœ¨æœ‰çš„å›¾ç‰‡è½¬æˆ ico æ ¼å¼ï¼‰å’Œ <code>index.html</code>ã€‚</p><p><code>index.html</code> é‡Œé¢çš„å†…å®¹åˆ—å‡ºåœ¨ä¸‹é¢ã€‚æˆ‘ä»¬åœ¨ L7 å¼•ç”¨äº† <code>favicon.ico</code> ä½œä¸ºç½‘ç«™å›¾æ ‡ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#7EE787;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">lang</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;en&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">charset</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;viewport&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">http-equiv</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;X-UA-Compatible&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;IE=edge,chrome=1&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">link</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">href</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;favicon.ico&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;image/x-icon&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;demo01&lt;/</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨ <code>\${PROJECT_DIR}/webpack.config.js</code> é‡Œé…ç½®ï¼Œè®© <code>copy-webpack-plugin</code> æ¥å¤„ç†ç½‘ç«™å›¾æ ‡ï¼Œè®© <code>html-webpack-plugin</code> å¤„ç† <code>.html</code> æ–‡ä»¶é‡Œçš„å¼•ç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">CopyPlugin</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;copy-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">HtmlPlugin</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;html-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79C0FF;">module</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">exports</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š entry</span></span>
<span class="line"><span style="color:#C9D1D9;">  entry: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;src&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;index.js&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š output</span></span>
<span class="line"><span style="color:#C9D1D9;">  output: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    path: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;dist&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">    filename: </span><span style="color:#A5D6FF;">&#39;bundle.js&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  },</span></span>
<span class="line"><span style="color:#C9D1D9;">  plugins: [</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// å¤åˆ¶ \${PROJECT_DIR}/public/favicon.ico</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æœ€ç»ˆç”Ÿæˆ \${PROJECT_DIR}/dist/favicon.ico</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">CopyPlugin</span><span style="color:#C9D1D9;">({</span></span>
<span class="line"><span style="color:#C9D1D9;">      patterns: [{ from: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;public&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;favicon.ico&#39;</span><span style="color:#C9D1D9;">) }],</span></span>
<span class="line"><span style="color:#C9D1D9;">    }),</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// ä½¿ç”¨ \${PROJECT_DIR}/public/index.html ä½œä¸ºæ¨¡æ¿</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æœ€ç»ˆç”Ÿæˆ \${PROJECT_DIR}/dist/index.html</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">HtmlPlugin</span><span style="color:#C9D1D9;">({</span></span>
<span class="line"><span style="color:#C9D1D9;">      title: </span><span style="color:#A5D6FF;">&#39;demo01&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">      template: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;public&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;index.html&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">    }),</span></span>
<span class="line"><span style="color:#C9D1D9;">  ],</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>copy-webpack-plugin</code> ä¼šæŠŠ <code>favicon.ico</code> å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ä¸‹ï¼ˆåœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œè¾“å‡ºç›®å½•å°±æ˜¯ <code>\${PROJECT_DIR}/dist</code>ï¼‰ä½œä¸ºç½‘ç«™å›¾æ ‡ã€‚</li><li><code>html-webpack-plugin</code> ä¼šä½¿ç”¨ <code>\${PROJECT_DIR}/public/index.html</code> ä½œä¸ºæ‰¿è½½ <code>bundle.js</code> å’Œ <code>favicon.ico</code> çš„æ¨¡æ¿ï¼Œæœ€ç»ˆä¼šç”Ÿæˆ <code>\${PROJECT_DIR}/dist/index.html</code>ï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šè‡ªåŠ¨å¼•ç”¨ç›¸å…³çš„ <code>.js</code> æ–‡ä»¶ã€‚</li></ul><p>é‡æ–°æ„å»ºï¼Œæ„å»ºç»“æŸä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç° <code>\${PROJECT_DIR}/dist</code> é‡Œé¢å‡ºç°äº†ä¸‰ä¸ªæ–‡ä»¶ï¼š<code>favicon.ico</code>ï¼Œ<code>index.html</code> å’Œ <code>bundle.js</code>ï¼Œè€Œ <code>index.html</code> ä¸­è¿˜è‡ªåŠ¨å¼•ç”¨äº† <code>bundle.js</code>ã€‚</p><p>ä¸€åˆ‡éƒ½å¾ˆå®Œç¾ï¼Œä½†ä¸èƒ½å¿½è§†çš„æ˜¯ï¼Œæ¯æ¬¡æ„å»ºä¹‹å‰éƒ½åº”è¯¥åˆ é™¤ä¸Šä¸€æ¬¡çš„æ„å»ºåŒ…ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ <code>\${PROJECT_DIR}/dist</code>ã€‚ç›®å‰ä¸åˆ é™¤ä¸ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Œä½†ä»¥åæ„å»ºå‡ºæ¥çš„æ–‡ä»¶è¶Šæ¥è¶Šå¤šï¼Œä¸åˆ é™¤å¯èƒ½ä¼šå¯¼è‡´æ–°æ—§æ„å»ºå†²çªã€<code>\${PROJECT_DIR}/dist</code> è¶Šæ¥è¶Šå¤§ã€<code>\${PROJECT_DIR}/dist</code> é‡Œé¢çš„æ–‡ä»¶è¶Šæ¥è¶Šå¤šç­‰é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>clean-webpack-plugin</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé»˜è®¤åœ°ï¼Œ<code>clean-webpack-plugin</code> ä¼šæ ¹æ® <code>output.path</code> è‡ªåŠ¨ç¡®è®¤ã€åˆ é™¤ä¸Šä¸€æ¬¡æ„å»ºçš„ç»“æœã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> { </span><span style="color:#FFA657;">CleanWebpackPlugin</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">CleanPlugin</span><span style="color:#C9D1D9;"> } </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;clean-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79C0FF;">module</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">exports</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">  plugins: [</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// ç§»é™¤ä¸Šä¸€æ¬¡çš„æ„å»ºæ–‡ä»¶</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">CleanPlugin</span><span style="color:#C9D1D9;">(),</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">  ],</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ„å»ºå‡ºç°äº†é—®é¢˜ï¼Œ<code>webpack</code> ä¼šè¾“å‡ºä¸€é•¿ä¸²é”™è¯¯ä¿¡æ¯ï¼Œä½¿ç”¨ <code>friendly-errors-webpack-plugin</code> å¯ä»¥è®©è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯æ›´åŠ å‹å¥½ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">FriendlyErrorsPlugin</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;friendly-errors-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79C0FF;">module</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">exports</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">  plugins: [</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ä¿¡æ¯</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">FriendlyErrorsPlugin</span><span style="color:#C9D1D9;">(),</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">  ],</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæ•´çš„ <code>webpack.config.js</code> ä»£ç åˆ—å†™åœ¨ä¸‹é¢ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;">// ä½¿ç”¨ path æ¨¡å—æ¥æŒ‡å®šè·¯å¾„</span></span>
<span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">path</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;path&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#8B949E;">// ä½¿ç”¨ plugin</span></span>
<span class="line"><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> { </span><span style="color:#FFA657;">CleanWebpackPlugin</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">CleanPlugin</span><span style="color:#C9D1D9;"> } </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;clean-webpack-plugin&#39;)</span><span style="color:#FFA198;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">const CopyPlugin </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;copy-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">const HtmlPlugin </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;html-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">const FriendlyErrorsPlugin </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">require</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;friendly-errors-webpack-plugin&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79C0FF;">module</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">exports</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š mode</span></span>
<span class="line"><span style="color:#C9D1D9;">  mode: </span><span style="color:#A5D6FF;">&#39;production&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š entry</span></span>
<span class="line"><span style="color:#C9D1D9;">  entry: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;src&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;index.js&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š output</span></span>
<span class="line"><span style="color:#C9D1D9;">  output: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    path: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;dist&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">    filename: </span><span style="color:#A5D6FF;">&#39;bundle.js&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  },</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">// æŒ‡å®š plugin</span></span>
<span class="line"><span style="color:#C9D1D9;">  plugins: [</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ä¿¡æ¯</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">FriendlyErrorsPlugin</span><span style="color:#C9D1D9;">(),</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// ç§»é™¤ä¸Šä¸€æ¬¡çš„æ„å»ºæ–‡ä»¶</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">CleanPlugin</span><span style="color:#C9D1D9;">(),</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// å¤åˆ¶ \${PROJECT_DIR}/public/favicon.ico</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æœ€ç»ˆç”Ÿæˆ \${PROJECT_DIR}/dist/favicon.ico</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">CopyPlugin</span><span style="color:#C9D1D9;">({</span></span>
<span class="line"><span style="color:#C9D1D9;">      patterns: [{ from: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;public&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;favicon.ico&#39;</span><span style="color:#C9D1D9;">) }],</span></span>
<span class="line"><span style="color:#C9D1D9;">    }),</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// ä½¿ç”¨ \${PROJECT_DIR}/public/index.html ä½œä¸ºæ¨¡æ¿</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æœ€ç»ˆç”Ÿæˆ \${PROJECT_DIR}/dist/index.html</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">HtmlPlugin</span><span style="color:#C9D1D9;">({</span></span>
<span class="line"><span style="color:#C9D1D9;">      title: </span><span style="color:#A5D6FF;">&#39;demo01&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">      template: path.</span><span style="color:#D2A8FF;">resolve</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;public&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;index.html&#39;</span><span style="color:#C9D1D9;">),</span></span>
<span class="line"><span style="color:#C9D1D9;">    }),</span></span>
<span class="line"><span style="color:#C9D1D9;">  ],</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡æ–°å¼€å§‹æ„å»ºï¼Œä¹‹åå¯ä»¥çœ‹åˆ°ç®€çŸ­çš„æç¤ºä¿¡æ¯ã€‚ä¸‹é¢æ˜¯æœ€ç»ˆçš„ç›®å½•ç»“æ„ï¼ˆçœç•¥äº†<code>node_modules</code>ï¼‰ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#79C0FF;">.</span></span>
<span class="line"><span style="color:#C9D1D9;">â”œâ”€â”€ dist</span></span>
<span class="line"><span style="color:#C9D1D9;">â”‚   â”œâ”€â”€ bundle.js</span></span>
<span class="line"><span style="color:#C9D1D9;">â”‚   â”œâ”€â”€ favicon.ico</span></span>
<span class="line"><span style="color:#C9D1D9;">â”‚   â””â”€â”€ index.html</span></span>
<span class="line"><span style="color:#C9D1D9;">â”œâ”€â”€ package-lock.json</span></span>
<span class="line"><span style="color:#C9D1D9;">â”œâ”€â”€ package.json</span></span>
<span class="line"><span style="color:#C9D1D9;">â”œâ”€â”€ public</span></span>
<span class="line"><span style="color:#C9D1D9;">â”‚   â”œâ”€â”€ favicon.ico</span></span>
<span class="line"><span style="color:#C9D1D9;">â”‚   â””â”€â”€ index.html</span></span>
<span class="line"><span style="color:#C9D1D9;">â”œâ”€â”€ src</span></span>
<span class="line"><span style="color:#C9D1D9;">â”‚   â””â”€â”€ index.js</span></span>
<span class="line"><span style="color:#C9D1D9;">â””â”€â”€ webpack.config.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ <code>live server</code> æˆ– <code>serve</code> æ¥æŸ¥çœ‹æ•ˆæœï¼Œå¯ä»¥çœ‹åˆ° <code>Hello webpack!</code>ã€‚</p><p>ğŸ‰ æ­å–œï¼Œä¸€ä¸ªç®€å•çš„ webpack demo å·²ç»å®Œæˆå•¦ï½</p>`,38),u={href:"https://github.com/ModyQyW/webpack4-demos/tree/master/demo01",target:"_blank",rel:"noopener noreferrer"};function m(C,F){const a=p("ExternalLinkIcon");return o(),c("div",null,[t,d,D,n("p",null,[s("é¦–å…ˆå®‰è£… "),n("a",y,[s("nvm"),l(a)]),s("ã€‚nvm æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† node ç‰ˆæœ¬çš„å·¥å…·ã€‚")]),v,n("p",null,[s("å‚è€ƒæºä»£ç è§ "),n("a",u,[s("modyqyw/webpack4-demos/demo01"),l(a)]),s("ã€‚")])])}const h=e(r,[["render",m],["__file","05.demo01.html.vue"]]);export{h as default};
