import{_ as p,M as o,p as c,q as r,R as s,t as n,N as a,V as t,a1 as l}from"./framework-7db056f4.js";const d="/assets/dns-2c60a256.png",u="/assets/github-pages-7955594a.png",v="/assets/ssl-tls-ed4321c0.png",y="/assets/server-3c57f3cf.png",D="/assets/create-cert-82537f06.png",m="/assets/create-cert-1-a112d15f.png",b="/assets/create-cert-2-ebb125df.png",h="/assets/dns-1-349e9ad8.png",g={},C=s("h1",{id:"å•æœåŠ¡å™¨é…ç½®",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å•æœåŠ¡å™¨é…ç½®","aria-hidden":"true"},"#"),n(" å•æœåŠ¡å™¨é…ç½®")],-1),_=s("p",null,"è®°å½•æˆ‘è‡ªå·±çš„å•æœåŠ¡å™¨é…ç½®ã€‚",-1),F=s("h2",{id:"github-pages-è‡ªå®šä¹‰åŸŸåå’Œ-https",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#github-pages-è‡ªå®šä¹‰åŸŸåå’Œ-https","aria-hidden":"true"},"#"),n(" Github Pages è‡ªå®šä¹‰åŸŸåå’Œ HTTPS")],-1),x={href:"https://www.aliyun.com/product/list?source=5176.11533457&userCode=2ln7eli6",target:"_blank",rel:"noopener noreferrer"},w=s("code",null,"modyqyw.top",-1),f={href:"https://www.cloudflare.com/zh-cn/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"},E=s("code",null,"185.199.108.153",-1),B=s("code",null,"ping modyqyw.github.io",-1),q=s("code",null,"modyqyw/modyqyw.github.io",-1),A={href:"https://github.com/ModyQyW/modyqyw.github.io/blob/main/CNAME",target:"_blank",rel:"noopener noreferrer"},S=s("code",null,"CNAME",-1),R=s("code",null,"modyqyw.top",-1),L=l('<p><img src="'+d+'" alt="dns"></p><p>å¦å¤–ï¼Œè¿˜éœ€è¦é…ç½® Github Pagesã€‚</p><p><img src="'+u+'" alt="github-pages"></p><p>HTTPS å¯ä»¥åœ¨ Cloudflare é‡Œç›´æ¥å¯ç”¨ã€‚</p><p><img src="'+v+'" alt="ssl-tls"></p><h2 id="è‡ªå·±çš„æœåŠ¡å™¨ä½¿ç”¨å­åŸŸåå’Œ-https" tabindex="-1"><a class="header-anchor" href="#è‡ªå·±çš„æœåŠ¡å™¨ä½¿ç”¨å­åŸŸåå’Œ-https" aria-hidden="true">#</a> è‡ªå·±çš„æœåŠ¡å™¨ä½¿ç”¨å­åŸŸåå’Œ HTTPS</h2>',6),z={href:"https://cloud.tencent.com/act/cps/redirect?redirect=30206&cps_key=64b3890e1990670c5c6a30b97a4243e4",target:"_blank",rel:"noopener noreferrer"},N=s("p",null,[s("s",null,"å†…åœ°æœåŠ¡å™¨å»ºç«™éœ€å¤‡æ¡ˆï¼Œä¸ä¹°å†…åœ°æœåŠ¡å™¨åº”è¯¥ä¸ç”¨å¤‡æ¡ˆï¼Œæ¨èä¹°ä¸­å›½é¦™æ¸¯ã€æ–°åŠ å¡ç­‰éå†…åœ°æœåŠ¡å™¨ã€‚è¢«è¿™ä¸ªå¡äº†æˆ‘ä¸¤å¤©ï¼ŒğŸ’©ã€‚æœ€åé€€é’±ï¼Œå»é˜¿é‡Œäº‘ä¹°æ–°åŠ å¡æœåŠ¡å™¨äº†ã€‚")],-1),T={href:"https://ubuntu.com/",target:"_blank",rel:"noopener noreferrer"},H={href:"https://www.centos.org/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://www.debian.org/index.zh-cn.html",target:"_blank",rel:"noopener noreferrer"},O=s("p",null,[s("img",{src:y,alt:"server"})],-1),I=s("p",null,"é¦–å…ˆé‡ç½®ä¸€ä¸‹å¯†ç ï¼Œä¸è¦ä¿®æ”¹é»˜è®¤è´¦å·ã€‚",-1),M={href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent",target:"_blank",rel:"noopener noreferrer"},U=s("code",null,"-t rsa",-1),$=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">ssh-keygen -t rsa -b 4096 -C </span><span style="color:#A5D6FF;">&quot;your_email@example.com&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;"># ç”Ÿæˆ RSA å¯†é’¥ï¼Œæ³¨æ„æ›¿æ¢é‚®ç®±ï¼Œä¸€ç›´å›è½¦å³å¯ï¼Œé»˜è®¤ç”Ÿæˆåœ¨ ~/.ssh ä¸‹</span></span>
<span class="line"><span style="color:#C9D1D9;">cat </span><span style="color:#FF7B72;">~</span><span style="color:#C9D1D9;">/.ssh/id_rsa.pub </span><span style="color:#8B949E;"># æ˜¾ç¤ºè‡ªå·±çš„ RSA å…¬é’¥</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨é¡µé¢ä¸Šä¸€é”®ç™»å½•ï¼Œä¿®æ”¹ sshï¼Œé¿å… ssh é¢‘ç¹æ–­å¼€ã€‚è¿™é‡Œä½¿ç”¨äº† <code>vim</code>ï¼Œ<code>nano</code> ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo vim /etc/ssh/sshd_config</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¿®æ”¹ä»¥ä¸‹ä¸‰è¡Œå¹¶ä¿å­˜ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">AuthorizedKeysFile      .ssh/authorized_keys .ssh/authorized_keys2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">ClientAliveInterval 120</span></span>
<span class="line"><span style="color:#C9D1D9;">ClientAliveCountMax 720</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åä½¿ç”¨ç»ˆç«¯ç™»å½•ï¼ŒæŠŠè‡ªå·±çš„ RSA å…¬é’¥æ·»åŠ åˆ° <code>~/.ssh/authorized_keys</code> å’Œ <code>~/.ssh/authorized_keys2</code>ï¼Œä¹‹åå°±å¯ä»¥å…å¯†ç™»å½•äº†ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">ssh root@[å…¬ç½‘IP] </span><span style="color:#8B949E;"># root æ˜¯é»˜è®¤è´¦å·ï¼Œæ·»åŠ å®Œå…¬é’¥ä¹‹åå°±å¯ä»¥ä¸€å¥å‘½ä»¤å…å¯†ç™»å½•äº†</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‡çº§ä¸€ä¸‹ä¾èµ–ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo apt update</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½® <code>ntp</code>ï¼Œç”¨äºåŒæ­¥æ—¶é—´ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo apt install ntp</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½® <code>curl</code>ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo apt install curl</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½® <code>git</code>ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo apt install git</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15),W=s("code",null,"zsh",-1),G=s("code",null,"oh-my-zsh",-1),V=s("code",null,"nvm",-1),J=s("code",null,"zsh",-1),K=s("code",null,"oh-my-zsh",-1),Q={href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer"},X=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo apt install nginx </span><span style="color:#8B949E;"># å®‰è£… nginx</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo ufw app list </span><span style="color:#8B949E;"># æŸ¥çœ‹é˜²ç«å¢™å¯é€‰é…ç½®</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo ufw allow </span><span style="color:#A5D6FF;">&#39;Nginx Full&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;"># æ”¾è¡Œ nginx</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo ufw allow </span><span style="color:#A5D6FF;">&#39;OpenSSH&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;"># æ”¾è¡Œ openssh</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo ufs </span><span style="color:#79C0FF;">enable</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;"># å¯åŠ¨é˜²ç«å¢™</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo ufw status </span><span style="color:#8B949E;"># ç¡®è®¤é˜²ç«å¢™çŠ¶æ€</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl status nginx </span><span style="color:#8B949E;"># æ£€æŸ¥ nginx çŠ¶æ€</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;"># æ­£ç¡®çš„é˜²ç«å¢™çŠ¶æ€ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#C9D1D9;">Status: active</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">To                         Action      From</span></span>
<span class="line"><span style="color:#C9D1D9;">--                         ------      ----</span></span>
<span class="line"><span style="color:#C9D1D9;">Nginx Full                 ALLOW       Anywhere</span></span>
<span class="line"><span style="color:#C9D1D9;">OpenSSH                    ALLOW       Anywhere</span></span>
<span class="line"><span style="color:#C9D1D9;">Nginx Full (v6)            ALLOW       Anywhere (v6)</span></span>
<span class="line"><span style="color:#C9D1D9;">OpenSSH (v6)               ALLOW       Anywhere (v6)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;"># æ­£ç¡®çš„ nginx çŠ¶æ€ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#C9D1D9;">â— nginx.service - A high performance web server and a reverse proxy server</span></span>
<span class="line"><span style="color:#C9D1D9;">     Loaded: loaded (/lib/systemd/system/nginx.service</span><span style="color:#FF7B72;">;</span><span style="color:#C9D1D9;"> enabled</span><span style="color:#FF7B72;">;</span><span style="color:#C9D1D9;"> vendor preset: enabled)</span></span>
<span class="line"><span style="color:#C9D1D9;">     Active: active (running)</span></span>
<span class="line"><span style="color:#C9D1D9;">       Docs: man:nginx(8)</span></span>
<span class="line"><span style="color:#C9D1D9;">   Main PID: 83574 (nginx)</span></span>
<span class="line"><span style="color:#C9D1D9;">      Tasks: 2 (limit: 2270)</span></span>
<span class="line"><span style="color:#C9D1D9;">     Memory: 6.0M</span></span>
<span class="line"><span style="color:#C9D1D9;">     CGroup: /system.slice/nginx.service</span></span>
<span class="line"><span style="color:#C9D1D9;">             â”œâ”€83574 nginx: master process /usr/sbin/nginx -g daemon on</span><span style="color:#FF7B72;">;</span><span style="color:#C9D1D9;"> master_process on</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">             â””â”€83575 nginx: worker process</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨å¯ä»¥é€šè¿‡ <code>http://[å…¬ç½‘ip]</code> è®¿é—®æœåŠ¡å™¨äº†ï¼Œæ­£å¸¸ä¼šæ˜¾ç¤º <code>nginx</code> çš„é»˜è®¤é¡µé¢ã€‚</p><p>ä¸€äº›ç›¸å…³çš„å‘½ä»¤å¦å¤–åˆ—å†™åœ¨ä¸‹é¢ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo systemctl stop nginx </span><span style="color:#8B949E;"># åœæ­¢ nginx æœåŠ¡</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl start nginx </span><span style="color:#8B949E;"># å¯åŠ¨ nginx æœåŠ¡</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl restart nginx </span><span style="color:#8B949E;"># é‡å¯ nginx æœåŠ¡</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl reload nginx </span><span style="color:#8B949E;"># nginx é‡æ–°è¯»å–é…ç½®</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl disable nginx </span><span style="color:#8B949E;"># ç¦æ­¢ nginx éšç³»ç»Ÿå¯åŠ¨</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl </span><span style="color:#79C0FF;">enable</span><span style="color:#C9D1D9;"> nginx </span><span style="color:#8B949E;"># å…è®¸ nginx éšç³»ç»Ÿå¯åŠ¨</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤åœ°ï¼Œ<code>nginx</code> ä¼šä½¿ç”¨ <code>/var/www/html</code> ä½œä¸ºç½‘ç«™ç›®å½•ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªæœåŠ¡å™¨æ‰˜ç®¡å¤šä¸ªç½‘ç«™çš„æƒ…å†µï¼Œè¿™ç›¸å½“ä¸æ–¹ä¾¿ã€‚æ‰€ä»¥ï¼Œæˆ‘ä½¿ç”¨ <code>/var/www/[ç½‘ç«™åŸŸå]/html</code> æ¥æ‰˜ç®¡æˆ‘ä¸åŒçš„ç½‘ç«™ï¼ŒåŸŸåå°±ä½¿ç”¨ <code>modyqyw.top</code> çš„äºŒçº§åŸŸåï¼Œå…¨éƒ¨äº¤ç»™ Cloudflare è§£æã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo mkdir -p /var/www/test.modyqyw.top/html </span><span style="color:#8B949E;"># æµ‹è¯•ç½‘ç«™ç”¨ï¼Œbt.modyqyw.top</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo mkdir -p /var/www/bt.modyqyw.top/html </span><span style="color:#8B949E;"># å®å¡”é¢æ¿ç”¨ï¼Œbt.modyqyw.top</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo chown -R $USER:$USER /var/www/test.modyqyw.top/html </span><span style="color:#8B949E;"># ä¿®æ”¹æƒé™</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo chown -R $USER:$USER /var/www/bt.modyqyw.top/html</span></span>
<span class="line"><span style="color:#8B949E;"># sudo chown -R 755 /var/www/test.modyqyw.top/html</span></span>
<span class="line"><span style="color:#8B949E;"># sudo chown -R 755 /var/www/bt.modyqyw.top/html</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨ä¸¤ä¸ªç›®å½•ä¸‹éƒ½åˆ›å»ºä¸€ä¸ª <code>.html</code> æ–‡ä»¶ï¼Œç”¨äºä¹‹åæ£€æŸ¥æ•ˆæœã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo vim /var/www/test.modyqyw.top/html/index.html</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo vim /var/www/bt.modyqyw.top/html/index.html</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#7EE787;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">lang</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;en&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">charset</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;utf-8&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;renderer&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;webkit&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;force-rendering&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;webkit&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">http-equiv</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;X-UA-Compatible&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;IE=Edge,chrome=1&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;viewport&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">    /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">link</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">rel</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;icon&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">href</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;/favicon.ico&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;[ç½‘ç«™åŸŸå]&lt;/</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">noscript</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">      &lt;</span><span style="color:#7EE787;">strong</span><span style="color:#C9D1D9;">&gt;è¯·å…è®¸ JavaScript æ‰§è¡Œã€‚&lt;/</span><span style="color:#7EE787;">strong</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">noscript</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;app&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†é¿å…å¯èƒ½çš„å“ˆå¸Œæ¡¶å†…å­˜é—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹ <code>nginx</code> é…ç½®ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo vim /etc/nginx/nginx.conf</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">...</span></span>
<span class="line"><span style="color:#C9D1D9;">http {</span></span>
<span class="line"><span style="color:#C9D1D9;">    ...</span></span>
<span class="line"><span style="color:#C9D1D9;">    server_names_hash_bucket_size 64</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    ...</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ£€æŸ¥ä¸€ä¸‹ <code>nginx</code> é…ç½®ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo nginx -t</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;"># æ²¡æœ‰é—®é¢˜çš„æç¤ºç¤ºä¾‹</span></span>
<span class="line"><span style="color:#C9D1D9;">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span></span>
<span class="line"><span style="color:#C9D1D9;">nginx: configuration file /etc/nginx/nginx.conf </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;"> is successful</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ²¡æœ‰é—®é¢˜çš„è¯å°±å¯ä»¥ç€æ‰‹æ·»åŠ  HTTPS æœåŠ¡äº†ã€‚ç”±äºè¦äº¤ç»™ Cloudflare åšè§£æï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ Cloudflare è®¤å¯çš„è¯ä¹¦ã€‚</p>`,18),Y=s("code",null,"/etc/ssl/certs/cloudflare.crt",-1),j={href:"https://developers.cloudflare.com/ssl/origin-configuration/origin-ca#4-required-for-some-add-cloudflare-origin-ca-root-certificates",target:"_blank",rel:"noopener noreferrer"},Z=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo vim /etc/ssl/certs/cloudflare.crt</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶ååˆ° Cloudflare ä¸Šç”³è¯·æœåŠ¡å™¨ç«¯è¯ä¹¦ï¼Œæ‰¾åˆ°ç›¸åº”çš„é¡µé¢ç‚¹å‡» <code>åˆ›å»ºè¯ä¹¦</code> ç„¶ååˆ›å»ºå³å¯ã€‚</p><p><img src="`+D+'" alt="create-cert"></p><p><img src="'+m+'" alt="create-cert-1"></p><p><img src="'+b+`" alt="create-cert-2"></p><p>åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºç›¸åº”çš„è¯ä¹¦æ–‡ä»¶ï¼Œä¿å­˜ Cloudflare è¿”å›çš„æ•°æ®ã€‚æ³¨æ„ï¼Œä¸èƒ½å­˜åœ¨ç©ºè¡Œã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo vim /etc/ssl/certs/cert.pem </span><span style="color:#8B949E;"># ä¿å­˜è¯ä¹¦éƒ¨åˆ†çš„æ•°æ®</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo vim /etc/ssl/private/key.pem </span><span style="color:#8B949E;"># ä¿å­˜ç§é’¥éƒ¨åˆ†çš„æ•°æ®</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ ç›¸åº”çš„åŸŸåé…ç½®ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo rm /etc/nginx/sites-enabled/default </span><span style="color:#8B949E;"># å·²ç»æœ‰åŸŸåé…ç½®äº†ï¼Œç§»é™¤é»˜è®¤çš„ html æ–‡ä»¶</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo vim /etc/nginx/sites-available/test.modyqyw.top</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo vim /etc/nginx/sites-available/bt.modyqyw.top</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">server {</span></span>
<span class="line"><span style="color:#C9D1D9;">    listen 80</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    listen [::]:80</span><span style="color:#FF7B72;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    access_log  /var/log/nginx/[ç½‘ç«™åŸŸå].access.log</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    error_log  /var/log/nginx/[ç½‘ç«™åŸŸå].error.log debug</span><span style="color:#FF7B72;">;</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;"># debug ç”¨äºæµ‹è¯•ï¼Œåç»­æµ‹è¯•æ²¡æœ‰é”™è¯¯åå¯ä»¥ç§»é™¤ debug</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    server_name [ç½‘ç«™åŸŸå]</span><span style="color:#FF7B72;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> 302 https://$server_name$request_uri</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">server {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;"># SSL configuration</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    listen 443 ssl http2</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    listen [::]:443 ssl http2</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    ssl_certificate         /etc/ssl/certs/cert.pem</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    ssl_certificate_key     /etc/ssl/private/key.pem</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    ssl_client_certificate /etc/ssl/certs/cloudflare.crt</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    ssl_verify_client on</span><span style="color:#FF7B72;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    access_log  /var/log/nginx/[ç½‘ç«™åŸŸå].access.log</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    error_log  /var/log/nginx/[ç½‘ç«™åŸŸå].error.log debug</span><span style="color:#FF7B72;">;</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;"># debug ç”¨äºæµ‹è¯•ï¼Œåç»­æµ‹è¯•æ²¡æœ‰é”™è¯¯åå¯ä»¥ç§»é™¤</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    server_name [ç½‘ç«™åŸŸå]</span><span style="color:#FF7B72;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    root /var/www/[ç½‘ç«™åŸŸå]/html</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    index index.html index.htm index.nginx-debian.html</span><span style="color:#FF7B72;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    location / {</span></span>
<span class="line"><span style="color:#C9D1D9;">            try_files $uri $uri/ =404</span><span style="color:#FF7B72;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠŠåŸŸåé…ç½®é“¾æ¥åˆ° <code>nginx</code> è¯»å–çš„ä½ç½®ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo ln -s /etc/nginx/sites-available/test.modyqyw.top /etc/nginx/sites-enabled/</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo ln -s /etc/nginx/sites-available/bt.modyqyw.top /etc/nginx/sites-enabled/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å†æ¬¡æ£€æŸ¥ <code>nginx</code> é…ç½®ï¼Œæ²¡é—®é¢˜çš„è¯é‡å¯ <code>nginx</code> æœåŠ¡ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">sudo nginx -t</span></span>
<span class="line"><span style="color:#C9D1D9;">sudo systemctl restart nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åæ·»åŠ  Cloudflare è§£æï¼Œç­‰å¾…ä¸€å°æ®µæ—¶é—´åè®¿é—® <code>https://[ç½‘ç«™åŸŸå]</code> æµ‹è¯•å³å¯ã€‚</p><p><img src="`+h+'" alt="dns-1"></p><p>å¦‚æœæœ‰é”™è¯¯ï¼Œå¯ä»¥æ£€æŸ¥å¯¹åº”çš„ <code>error.log</code>ã€‚å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œè®°å¾—è¦å»æ‰ <code>debug</code>ï¼Œå¦åˆ™æ—¥å¿—æ–‡ä»¶ä¼šéå¸¸å¤§ã€‚</p><h2 id="å®å¡”é¢æ¿" tabindex="-1"><a class="header-anchor" href="#å®å¡”é¢æ¿" aria-hidden="true">#</a> å®å¡”é¢æ¿</h2><h2 id="æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“" aria-hidden="true">#</a> æ•°æ®åº“</h2><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2>',20),ss={href:"https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-10",target:"_blank",rel:"noopener noreferrer"},ns={href:"https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-10",target:"_blank",rel:"noopener noreferrer"},as={href:"https://www.digitalocean.com/community/tutorials/how-to-host-a-website-using-cloudflare-and-nginx-on-ubuntu-20-04",target:"_blank",rel:"noopener noreferrer"},es={href:"https://developers.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"};function ls(os,is){const e=o("ExternalLinkIcon"),i=o("RouterLink");return c(),r("div",null,[C,_,F,s("p",null,[n("æˆ‘åœ¨ "),s("a",x,[n("é˜¿é‡Œäº‘"),a(e)]),n(" ä¹°äº†åŸŸå "),w,n("ï¼Œç„¶åäº¤ç»™äº† "),s("a",f,[n("Cloudflare"),a(e)]),n(" åšè§£æã€‚")]),s("p",null,[n("ä¸ºäº†è®© Cloudflare æ¥ç®¡ "),s("a",k,[n("Github Pages"),a(e)]),n("ï¼Œæˆ‘è¿˜ä¿®æ”¹äº† DNSã€‚å…¶ä¸­ï¼Œ"),E,n(" æ˜¯ "),B,n(" å¾—åˆ°çš„ç»“æœï¼›åœ¨ "),q,n(" éƒ¨ç½²çš„ç›®å½•ä¸‹ä¿å­˜ä¸€ä¸ª "),s("a",A,[S,n(" æ–‡ä»¶"),a(e)]),n("ï¼Œå†…å®¹ç›´æ¥å¡«å†™ "),R,n("ã€‚")]),L,s("p",null,[n("åŒåä¸€åœ¨ "),s("a",z,[n("è…¾è®¯äº‘"),a(e)]),n(" ä¹°äº†è½»é‡åº”ç”¨æœåŠ¡å™¨ï¼Œå°è¯•è‡ªå·±é…ä¸€ä¸‹ç¯å¢ƒï¼Œä¸ºä»¥åçš„å…¨æ ˆç›®æ ‡åšå‡†å¤‡ã€‚")]),N,s("p",null,[n("æˆ‘ä½¿ç”¨äº† "),s("a",T,[n("Ubuntu"),a(e)]),n("ï¼Œå¯èƒ½ä¼šæœ‰äººæ›´å€¾å‘äºä½¿ç”¨ "),s("a",H,[n("CentOS"),a(e)]),n(" æˆ–è€… "),s("a",P,[n("Debian"),a(e)]),n("ï¼Œæ²¡æœ‰é«˜ä½ä¹‹åˆ†ã€‚å»ºè®®ä¼˜å…ˆæŒ‘é€‰å…¬å¸å†…è¾ƒå¤šä½¿ç”¨çš„ï¼Œå…¶æ¬¡æŒ‘é€‰ä¸ªäººå–œæ¬¢çš„ã€‚")]),O,I,s("p",null,[n("ç”Ÿæˆè‡ªå·±çš„ RSA å¯†é’¥ï¼Œå¯ä»¥å‚è€ƒ "),s("a",M,[n("Generating a new SSH key and adding it to the ssh-agent"),a(e)]),n("ï¼Œæ³¨æ„å‘½ä»¤åº”è¯¥ä½¿ç”¨ "),U,n("ã€‚")]),$,s("p",null,[n("é…ç½® "),W,n("ã€"),G,n(" å’Œ "),V,n("ã€‚åŸºæœ¬å’Œ "),a(i,{to:"/summarize/environment/#macos-intel"},{default:t(()=>[n("ç¯å¢ƒé…ç½®")]),_:1}),n(" é‡Œçš„æè¿°ä¸€è‡´ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£… "),J,n(" å¹¶åˆ‡æ¢ï¼Œçœ‹ "),K,n(" é‡Œçš„æ•™ç¨‹å³å¯ã€‚")]),s("p",null,[n("æ¥ç€å®‰è£… "),s("a",Q,[n("nginx"),a(e)]),n("ï¼Œç”¨äºæä¾›ç½‘ç«™è®¿é—®ã€‚")]),X,s("p",null,[n("é¦–å…ˆåœ¨ "),Y,n(),s("a",j,[n("ä¿å­˜ Cloudflare æ ¹è¯ä¹¦"),a(e)]),n("ã€‚æ³¨æ„ï¼Œä¸èƒ½å­˜åœ¨ç©ºè¡Œã€‚")]),Z,s("ul",null,[s("li",null,[s("a",ss,[n("Initial Server Setup with Debian 10"),a(e)])]),s("li",null,[s("a",ns,[n("How to Install Nginx on Debian 10"),a(e)])]),s("li",null,[s("a",as,[n("How To Host a Website Using Cloudflare and Nginx on Ubuntu 20.04"),a(e)])]),s("li",null,[s("a",es,[n("cloudflare developers"),a(e)])])])])}const cs=p(g,[["render",ls],["__file","index.html.vue"]]);export{cs as default};
